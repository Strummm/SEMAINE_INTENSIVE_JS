<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel='icon' href='images/favicon.svg' type='image/x-icon'/ >
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css">
    <title>Home</title>
</head>
<body>
    <section class="fog">
        <div class="fog-container">
          <div class="fog-img fog-img-first"></div>
          <div class="fog-img fog-img-second"></div>
          <div class="fog-img fog-img-third"></div>
        </div>
      </section>
   <img src="images/ghostwithoutshadow.svg" alt="" class="ghost">
    <section class="home">
            <h1 class="mainTitle" data-aos="fade-right" data-aos-duration="2500">The Escape Game</h1>
            <h6 class="subTitle" data-aos="fade-right" data-aos-duration="2000" data-aos-anchor=".mainTitle">Episode 1: La maison hant√©e</h6>
            <p class="text" data-aos="fade-right" data-aos-duration="2500" data-aos-anchor=".mainTitle" >Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed dignissimos optio, exercitationem illo ullam reiciendis. Officiis consequuntur commodi magnam doloribus quis, adipisci fugit dignissimos, tempore velit aut est deleniti. Nisi?`</p>
            <a href="javascript:void(0)" class="homeButton" data-aos="zoom-in" data-aos-duration="1000" data-aos-anchor=".mainTitle">J'OSE</a>
            <div class="door"></div>
    </section>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        let beingMoved = false;
    document.querySelector('.homeButton').addEventListener("click", function(e) {
        event.preventDefault();
        const img = new Image();
        img.src = `./images/frames/home/homeOpen.svg`;
        document.querySelector('.door').style.display = 'block'
        img.onload = function(){ 
            document.querySelector('.home').style.backgroundImage = 'url("./images/frames/home/homeOpen.svg")'
            const audio = new Audio(`./sounds/door-open.mp3`);
            audio.volume = 0.05
            audio.play();
        }
    });

    document.querySelector('.door').addEventListener("click", function(e) {
        if (document.querySelector('.door').style.display != 'none'){
            window.location.href = "./pages/game.html";
        }
    });


    const ghost = document.querySelector(".ghost");
		document.addEventListener("mousemove", getMouse); 


		ghost.style.position = "absolute"; //css		
		let ghostPos = {x:0, y:0};

		setInterval(followMouse, 50);
		
		let mouse = {x:0, y:0}; //mouse.x, mouse.y
		
		function getMouse(e){
            
			mouse.x = e.pageX;
			mouse.y = e.pageY;

		}
		
		function followMouse(){
			//1. find distance X , distance Y
			const distX = mouse.x - ghostPos.x;
			const distY = mouse.y - ghostPos.y;
			//Easing motion
       //Progressive reduction of distance 
            ghostPos.x += distX/80;
            ghostPos.y += distY/32;
			
			ghost.style.left = ghostPos.x + "px";
			ghost.style.top = ghostPos.y + "px";
         
        }
	
    </script>
    <script>
        AOS.init();
    </script>
</body>
</html>